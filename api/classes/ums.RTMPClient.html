<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ums.RTMPClient</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/EventEmitterEx.html">EventEmitterEx</a></li>
            
                <li><a href="../classes/ums.html">ums</a></li>
            
                <li><a href="../classes/ums.Application.html">ums.Application</a></li>
            
                <li><a href="../classes/ums.NetConnection.html">ums.NetConnection</a></li>
            
                <li><a href="../classes/ums.NetStream.html">ums.NetStream</a></li>
            
                <li><a href="../classes/ums.PublishPipe.html">ums.PublishPipe</a></li>
            
                <li><a href="../classes/ums.PublishPool.html">ums.PublishPool</a></li>
            
                <li><a href="../classes/ums.RTMPCall.html">ums.RTMPCall</a></li>
            
                <li><a href="../classes/ums.RTMPClient.html">ums.RTMPClient</a></li>
            
                <li><a href="../classes/ums.RTMPConnector.html">ums.RTMPConnector</a></li>
            
                <li><a href="../classes/ums.RTMPOptions.html">ums.RTMPOptions</a></li>
            
                <li><a href="../classes/ums.RTMPServer.html">ums.RTMPServer</a></li>
            
                <li><a href="../classes/ums.RTSPConnection.html">ums.RTSPConnection</a></li>
            
                <li><a href="../classes/ums.RTSPConnector.html">ums.RTSPConnector</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/ums.js.html">ums.js</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>ums.RTMPClient Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/ums.js.html#l2146"><code>ums.js:2146</code></a>
        </div>
    

    
        
            Module: <a href="../modules/ums.js.html">ums.js</a>
        
    

    
</div>



<div class="box intro">
    
</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
        
        
        
            <li class="api-class-tab events"><a href="#events">Events</a></li>
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method private">
                                <a href="#method__internalCallback">_internalCallback</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_call">call</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_close">close</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_closeStream">closeStream</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_createStream">createStream</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_deleteStream">deleteStream</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_FCPublish">FCPublish</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_FCUnpublish">FCUnpublish</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_on">on</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_openNotify">openNotify</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_releaseStream">releaseStream</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_stat">stat</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            
                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                        
                            <li class="index-item property public">
                                <a href="#property_clientId">clientId</a>

                                
                                
                            </li>
                        
                            <li class="index-item property public">
                                <a href="#property_streams">streams</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
                <div class="index-section events">
                    <h3>Events</h3>

                    <ul class="index-list events">
                        
                            <li class="index-item event">
                                <a href="#event_close">close</a>

                                
                                
                            </li>
                        
                            <li class="index-item event">
                                <a href="#event_error">error</a>

                                
                                
                            </li>
                        
                            <li class="index-item event">
                                <a href="#event_onStatus">onStatus</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method__internalCallback" class="method item private">
    <h3 class="name"><code>_internalCallback</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2150"><code>ums.js:2150</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    

    

    
</div>

                
                    <div id="method_call" class="method item public">
    <h3 class="name"><code>call</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>proc_name</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>...</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2343"><code>ums.js:2343</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>调用一个远端处理函数.
如果指定返回结果的回调处理函数，则远端理论上应该返回结果，该结果由
该回调函数处理，否则，不返回结果。回调函数的第一个参数为远端返回的
调用对象（ums.RTMPCall实例）。理论上，返回结果也是一个远程调用，只
不过是针对特定函数_result和_error函数的特定调用。返回_result表示远
端函数正确执行；返回_error则表示远端函数执行出错。</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">proc_name</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>要调用的远端函数的名称)</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">...</code>
                        <span class="type">Number/String/Boolean/Array/Object/Buffer</span>
                    

                    

                    <div class="param-description">
                        <p>[可选],要
                         传递给远端函数的参数</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>[可选], 远端函数返回结果的处理函数</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.call(&#39;foo&#39;, &#39;arg1&#39;, &#39;arg2&#39;, function(cmd){
    console.dir(cmd);
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_close" class="method item public">
    <h3 class="name"><code>close</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>userCode</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2466"><code>ums.js:2466</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>关闭底层RTMP连接.该接口在关闭连接之前会向远端发送关闭连接通知
（onStatus:NetConnection.Connect.Closed）。</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">userCode</code>
                        <span class="type">Number</span>
                    

                    

                    <div class="param-description">
                        <p>用户自定义连接关闭码，将在close事件回调中被带出。</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.close(userCode);</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_closeStream" class="method item public">
    <h3 class="name"><code>closeStream</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>stream_id</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2431"><code>ums.js:2431</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>关闭一个指定的流.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">stream_id</code>
                        <span class="type">Number</span>
                    

                    

                    <div class="param-description">
                        <p>要关闭的流的id</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>, 返回结果的处理函数</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.closeStream(streamId, function(err){
    if (err) {
        return console.dir(err);
    } else {
        // do some thing
    }
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_createStream" class="method item public">
    <h3 class="name"><code>createStream</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>cmd</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2386"><code>ums.js:2386</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>在本地创建一个新流.
该接口是一个复合接口，调用此接口，正常情况下会完成如下操作：
1.在本地创建一个流，得到流的的streamId，然后在内部会创建一个
NetStream类型的对象，将得到的streamId赋予该NetStream实例，最
后将接口调用错误信息和NetStream实例通过回调函数返回。
如果接口调用出错，err将不为null，stream不可用；反之，err为null,
stream对象可用。</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">cmd</code>
                        <span class="type"><a href="..\classes\ums.RTMPCall.html" class="crosslink">ums.RTMPCall</a></span>
                    

                    

                    <div class="param-description">
                        <p>远程调用对象</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>, 返回结果的处理函数</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.on(&#39;createStream&#39;, function(cmd){
    this.createStream(cmd, function(err, stream){
        if (err) {
            return console.dir(err);
        } else {
            // do some thing with stream
        }
    });
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_deleteStream" class="method item public">
    <h3 class="name"><code>deleteStream</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2534"><code>ums.js:2534</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>旁通接口，删除一个流.
该接口是旁通接口，用于执行实际的deleteStream操作，当监听到远端发
起的deleteStream事件时调用，参数为事件监听函数接收到的命令对象。</p>

    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.on(&#39;deleteStream&#39;, function(cmd){
    client.deleteStream(cmd);
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_FCPublish" class="method item public">
    <h3 class="name"><code>FCPublish</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2547"><code>ums.js:2547</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>旁通接口，发布一个流.
该接口是旁通接口，用于执行实际的FCPublish操作，当监听到远端发
起的FCPublish事件时调用，参数为事件监听函数接收到的命令对象。</p>

    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.on(&#39;FCPublish&#39;, function(cmd){
    client.FCPublish(cmd);
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_FCUnpublish" class="method item public">
    <h3 class="name"><code>FCUnpublish</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2560"><code>ums.js:2560</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>旁通接口，发布一个流.
该接口是旁通接口，用于执行实际的FCUnpublish操作，当监听到远端发
起的FCUnpublish事件时调用，参数为事件监听函数接收到的命令对象。</p>

    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.on(&#39;FCUnpublish&#39;, function(cmd){
    client.FCUnpublish(cmd);
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_on" class="method item public">
    <h3 class="name"><code>on</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>event_name</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    
        <span class="flag async">async</span>
    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2279"><code>ums.js:2279</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>为特定事件添加一个监听处理程序.
当前支持除&#39;_error/_result/onStatus/connect/error/close&#39;等事件之外的
任何自定义事件.上述事件为内部保留事件，用户不应定义与这些事件同名的
远程调用函数名。与用户自定义事件相对应的事件处理函数的参数列表与远端
调用时传入的参数列表一致。</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">event_name</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                        <p>要订阅的事件名称</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>事件处理函数</p>
<pre><code>client.on(&#39;connect&#39;, function(cmd, client){
    console.dir(cmd);
    // 接受新连接
    app.accept(cmd, client, true);
});</code></pre>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_openNotify" class="method item public">
    <h3 class="name"><code>openNotify</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>eNotifyType</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2493"><code>ums.js:2493</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>设置开启/关闭命令发送完成通知(该接口主要用于开发调试，建议生产环境
中关闭命令发送完成通知功能以提高运行效率).
如果设置命令发送完成通知功能，则每一个RTMP RPC命令在成功发送完成
后，都可以通过监听&#39;cmdSentDone&#39;事件来捕获发出去的命令包的拷贝。
异步设置完成回调函数的第一个参数为出错信息，如果出错信息为null，
则表明设置成功，否则，表明设置失败。</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">eNotifyType</code>
                        <span class="type">Enum of mask</span>
                    

                    

                    <div class="param-description">
                        <p>是否开启相应的事件通知,可以是下列
       值之一,或是其中几项的组合(通过|组合):
       <br>&nbsp;&nbsp;&nbsp;&nbsp;ums.CONST.NOTIFY_AUDIO_SENTDONE,
       <br>&nbsp;&nbsp;&nbsp;&nbsp;ums.CONST.NOTIFY_VIDEO_SENTDONE,
       <br>&nbsp;&nbsp;&nbsp;&nbsp;ums.CONST.NOTIFY_META_SENTDONE,
       <br>&nbsp;&nbsp;&nbsp;&nbsp;ums.CONST.NOTIFY_CMD_SENTDONE,
       <br>&nbsp;&nbsp;&nbsp;&nbsp;ums.CONST.NOTIFY_ALL_SENTDONE,
       <br>&nbsp;&nbsp;&nbsp;&nbsp;ums.CONST.NOTIFY_ACTIVECHECK</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>异步设置完成回调函数</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.openNotify(ums.CONST.NOTIFY_CMD_SENTDONE|NOTIFY_ACTIVECHECK,
    function(err){
        if (err) {
            console.dir(err);
        }
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_releaseStream" class="method item public">
    <h3 class="name"><code>releaseStream</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2521"><code>ums.js:2521</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>旁通接口，释放一个流.
该接口是旁通接口，用于执行实际的releaseStream操作，当监听到远端发
起的releaseStream事件时调用，参数为事件监听函数接收到的命令对象。</p>

    </div>

    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.on(&#39;releaseStream&#39;, function(cmd){
    client.releaseStream(cmd);
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="method_stat" class="method item public">
    <h3 class="name"><code>stat</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2477"><code>ums.js:2477</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>异步获取数据包及字节数发送统计.
调用该接口将异步获取底层网络数据收发统计。</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">callback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>异步结果回调函数</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.stat(function(err, stats){
    if (err) {
        return console.dir(err);
    }
    console.dir(stats);
})</code></pre>

            </div>
        </div>
    
</div>

                
            </div>
        

        
            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

                
                    <div id="property_clientId" class="property item public">
    <h3 class="name"><code>clientId</code></h3>
    <span class="type">String</span>

    

    
        <span class="flag public">public</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2587"><code>ums.js:2587</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>唯一标识一个连接的标志.
同一个RTMPServer管理的RTMPClient实例具有不重复的ID。</p>

    </div>

    

    

    
</div>

                
                    <div id="property_streams" class="property item public">
    <h3 class="name"><code>streams</code></h3>
    <span class="type">Array of NetStream</span>

    

    
        <span class="flag public">public</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2573"><code>ums.js:2573</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>RTMPClient之上的所有NetStream实例数组.
通过streamId为索引访问相应的NetStream实例。</p>

    </div>

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var streams = client.streams;
for (var i = 0;i &lt; streams.length;i++) {
    console.dir(streams[i]);
}</code></pre>

            </div>
        </div>
    

    
</div>

                
            </div>
        

        

        
            <div id="events" class="api-class-tabpanel">
                <h2 class="off-left">Events</h2>

                
                    <div id="event_close" class="events item">
    <h3 class="name"><code>close</code></h3>
    <span class="type"></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2299"><code>ums.js:2299</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>连接关闭事件及其事件监听处理程序.</p>

    </div>

    
        <div class="params">
            <h4>Event Payload:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">result</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>连接关闭信息。信息含有三个属性:
                       result.code是底层错误码，
                       result.message是底层错误码对应的解释，
                       result.userCode是用户自定义错误代码，
                       如果code不为0，说明关闭事件是由底层
                       错误引起，此时userCode为0；如果关闭
                       动作是由上层js业务逻辑主动出发，此时
                       设置的userCode才会被带出.</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    


    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.on(&#39;close&#39;, function(result){
    console.log(result); // { message: &#39;success&#39;, code: 0, line: 639, userCode: 100 }
});</code></pre>

            </div>
        </div>
    
</div>

                
                    <div id="event_error" class="events item">
    <h3 class="name"><code>error</code></h3>
    <span class="type"></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2317"><code>ums.js:2317</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>错误事件及其事件监听处理程序.
如果添加&#39;error&#39;事件监听函数，则当出现内部错误时回调函数将被调用。</p>

    </div>

    
        <div class="params">
            <h4>Event Payload:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">error_msg</code>
                        <span class="type">Error</span>
                    

                    

                    <div class="param-description">
                        <p>错误信息</p>
<pre><code>client.on(&#39;error&#39;, function(error_msg){
    console.log(error_msg);
});</code></pre>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    


    
</div>

                
                    <div id="event_onStatus" class="events item">
    <h3 class="name"><code>onStatus</code></h3>
    <span class="type"></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/ums.js.html#l2329"><code>ums.js:2329</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>RTMP网络状态事件及其事件监听处理程序.
如果添加&#39;onStatus&#39;事件监听函数，则当出现网络状态事件时回调函数将
被调用。&#39;onStatus&#39;事件发送自网络对端，是一种不需要回复的远程调用，
用于通知网络对端特定的状态信息，包括连接状态等。</p>

    </div>

    
        <div class="params">
            <h4>Event Payload:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">event</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>状态信息</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    


    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>client.on(&#39;onStatus&#39;, function(event){
    console.dir(event);
});</code></pre>

            </div>
        </div>
    
</div>

                
            </div>
        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
